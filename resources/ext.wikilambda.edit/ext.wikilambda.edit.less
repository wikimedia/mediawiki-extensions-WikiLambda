/*!
 * WikiLambda special page styles
 * Styles and variables declaration added on this file should be unique to the wikilamdba project.
 * Uses variables from Codex Design Tokens https://doc.wikimedia.org/codex/latest/design-tokens/overview.html
 *
 * @copyright 2020â€“ Abstract Wikipedia team; see AUTHORS.txt
 * @license MIT
 */
@import './ext.wikilambda.edit.variables.less';

.ext-wikilambda-edit {
	/* Typography */
	&__text-regular {
		font-family: @font-family-base;
		font-weight: @font-weight-normal;
		font-size: @wl-font-size-base;
		line-height: @line-height-medium;
		color: @color-base;
	}
}

.ext-wikilambda-edit-link {
	color: @color-progressive;

	&:hover {
		color: @color-progressive--hover;
	}

	&:active {
		color: @color-progressive--active;
	}

	&:focus {
		color: @color-progressive--focus;
	}

	&:visited {
		color: @color-progressive--focus;
	}
}

.ext-wikilambda-field-overrides {
	.cdx-text-input,
	.cdx-select,
	.cdx-select-vue,
	.cdx-lookup {
		width: 100%;
		min-width: auto;
		max-width: @min-width-medium;

		&__handle {
			min-width: auto;
		}

		&__input {
			min-width: initial;
		}
	}
}

.ext-wikilambda-widget {
	box-sizing: border-box;
	padding: @spacing-75;
	border: 1px solid #c8ccd1;
	border-radius: 2px;
	margin-bottom: @spacing-100;

	&.ext-wikilambda-widget-json {
		padding: 0;
	}
}

.ext-wikilambda-toast-message {
	display: flex;
	align-items: center;
	flex-direction: column;
	position: fixed;
	bottom: @spacing-400;
	left: 0;
	right: 0;
}

.ext-wikilambda-row {
	display: flex;
	flex-wrap: wrap;
	margin-left: -@spacing-75;
	margin-right: -@spacing-75;
}

.ext-wikilambda-col {
	box-sizing: border-box;
	padding-left: @spacing-75;
	padding-right: @spacing-75;
	flex-grow: 1;
	min-width: 0;
}

.generate-columns(@index) when (@index <= 24) {
	.ext-wikilambda-col-@{index} {
		flex-basis: calc( 100% / 24 * @index );
		max-width: calc( 100% / 24 * @index );
	}

	.generate-responsive-columns( @index, mobile );
	.generate-responsive-columns( @index, tablet );
	.generate-responsive-columns( @index, desktop );

	.generate-columns( @index + 1 );
}

.generate-responsive-columns(@index, @size) {
	@media ( max-width: ~'@{max-width-breakpoint-@{size}}' ) {
		.ext-wikilambda-col-@{size}-@{index} {
			flex-basis: calc( 100% / 24 * @index );
			max-width: calc( 100% / 24 * @index );
		}
	}
}

.generate-columns( 1 );
